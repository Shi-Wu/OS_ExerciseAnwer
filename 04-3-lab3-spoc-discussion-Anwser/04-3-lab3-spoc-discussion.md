# lab3 SPOC思考题

=======

## 小组思考题
---
(1)(spoc) 请参考lab3_result的代码，思考如何在lab3_results中实现clock算法，给出你的概要设计方案。可4人一个小组。要求说明你的方案中clock算法与LRU算法上相比，潜在的性能差异性。进而说明在lab3的LRU算法实现的可能性评价（给出理由）。

概要设计方案：
在page结构中，设定一个空闲位，作为访问位。1表示已经访问过，0表示还未访问过。再构建一个循环列表指向各个页面。每次替换页面的时候，指针循环访问每一个页面，如果页面访问位为0，则替换该页面终止寻找过程。如果访问位为1，则改写访问为0。新建swap_clock，重写swap中的swappable、init等函数。在swap中实例化这个类然后调用其中的函数即可。

性能差异性比较：
LRU算法需要依据页面的最近访问时间顺序，虽然性能好，但系统开销大。 Clock算法在进行页面访问时，不需要动态调整页面在链表中的顺序，只需要做标记，开销比较小

LRU实现的可能性：
LRU的实现需要维护一个栈，应该可行，只是需要较大的系统开销。

(2)(spoc) 理解内存访问的异常。在x86中内存访问会受到段机制和页机制的两层保护，请基于lab3_results的代码（包括lab1的challenge练习实现），请实践并分析出段机制和页机制各种内存非法访问的后果。，可4人一个小组，，找出尽可能多的各种内存访问异常，并在代码中给出实现和测试用例，在执行了测试用例后，ucore能够显示出是出现了哪种异常和尽量详细的错误信息。请在说明文档中指出：某种内存访问异常的原因，硬件的处理过程，以及OS如何处理，是否可以利用做其他有用的事情（比如提供比物理空间更大的虚拟空间）？哪些段异常是否可取消，并用页异常取代？